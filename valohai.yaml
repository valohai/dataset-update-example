- step:
    name: Phase1
    image: ghcr.io/astral-sh/uv:python3.12-bookworm-slim
    command: uv run -q phase1.py
    parameters:
      - name: dataset-id
        description: Dataset to update
        default: "00000000-0000-0000-0000-000000000000"
      - name: new-file-names
        description: New file names
        multiple: repeat
        default:
          - file1.csv
          - file2.csv
          - file3.csv
      - name: new-file-contents
        description: New file contents (repeated if less than new-file-names)
        multiple: repeat
        default:
          - foofoo
          - barbar
- step:
    name: Phase2
    image: ghcr.io/astral-sh/uv:python3.12-bookworm-slim
    command: uv run -q phase2.py
    inputs:
      - name: manifest
        optional: false
- pipeline:
    name: Processing Pipeline
    nodes:
      - name: GenerateManifest
        type: execution
        step: Phase1
      - name: CreateDatasetVersion
        type: execution
        step: Phase2
    edges:
      - [GenerateManifest.output._dataset-manifest*, CreateDatasetVersion.input.manifest]
